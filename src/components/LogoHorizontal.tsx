import { css } from '@emotion/react'
import Bowser from 'bowser'
import { uniqueId } from 'lodash'
import { rgba } from 'polished'
import { useMemo } from 'react'

import { colors } from '../theme/variables'

const LogoHorizontal = ({ ...props }) => {
  const pathId = useMemo(() => uniqueId('path-'), [])
  const clipId = useMemo(() => uniqueId('clip-'), [])
  const gradientId = useMemo(() => uniqueId('gradient-'), [])

  const invalidBrowser = useMemo(() => {
    if (typeof window !== 'undefined') {
      const browser = Bowser.getParser(window.navigator.userAgent)
      return browser.satisfies({
        safari: '>1',
        'internet explorer': '>1',
      })
    }
  }, [])

  const styles = {
    circleWrap: css`
      width: 100%;
      height: 100%;
      background: ${colors.gold};
      clip-path: url(#${clipId});
      overflow: hidden;
    `,
    circle: css`
      position: absolute;
      border-radius: 50%;
      width: 62%;
      padding-bottom: 62%;
      height: 0;
    `,
    circle1: css`
      background: conic-gradient(
        from 38deg,
        ${rgba(colors.gold, 0)} 10%,
        ${rgba(colors.goldShade1, 0.5)} 60%,
        ${colors.goldShade2} 95%
      );
      left: -1%;
      top: -1%;
    `,
    circle2: css`
      background: conic-gradient(
        from 225deg,
        ${rgba(colors.gold, 0)} 10%,
        ${rgba(colors.goldShade1, 0.75)} 60%,
        ${colors.goldShade2} 95%
      );
      right: -1%;
      top: -7%;
    `,
  }

  return (
    <svg viewBox="0 0 670 44" {...props}>
      <defs>
        <linearGradient
          id={gradientId}
          x1="50%"
          x2="50%"
          y1="100%"
          y2="0%"
        >
          <stop stopColor={colors.goldShade2} offset="0%" />
          <stop stopColor={colors.goldShade1} offset="45%" />
          <stop stopColor={colors.gold} offset="90%" />
        </linearGradient>
        <path
          id={pathId}
          d="M56.0729443,-1.0658141e-14 C43.8566166,-1.0658141e-14 33.8392278,9.65089891 33.8392278,21.5007368 C33.8392278,26.9980843 29.9300029,31.6402888 24.4326555,32.7397583 C18.935308,33.8392278 13.4379605,31.0294724 11.2390215,26.0207781 C9.04008252,21.0120837 10.8725317,15.1482464 15.5147362,12.0941645 C20.1569408,9.04008252 26.3872679,9.52873563 30.4186561,13.4379605 C31.273799,10.0173887 32.9840849,6.96330681 35.4273504,4.39787798 C31.6402888,1.58812261 26.875921,0.122163277 22.1115532,0.122163277 C9.89522546,0.122163277 7.38964445e-13,9.77306219 7.38964445e-13,21.6229001 C7.38964445e-13,33.472738 10.0173887,43.0014736 22.2337165,43.0014736 C34.4500442,43.0014736 44.3452697,33.3505747 44.3452697,21.5007368 C44.3452697,16.0033893 48.3766578,11.3611848 53.9961686,10.3838786 C59.4935161,9.40657235 64.9908635,12.338491 67.0676393,17.3471854 C69.144415,22.3558798 67.3119658,28.2197171 62.547598,31.1516357 C57.7832302,34.0835544 51.552903,33.472738 47.6436782,29.5635131 C46.7885352,32.9840849 45.0782493,36.0381668 42.6349838,38.7257589 C46.4220454,41.5355143 51.1864132,43.1236369 55.950781,43.1236369 C68.1671088,43.1236369 78.1844975,33.472738 78.1844975,21.6229001 C78.1844975,9.65089891 68.289272,-1.0658141e-14 56.0729443,-1.0658141e-14 L56.0729443,-1.0658141e-14 Z"
        />
        <clipPath id={clipId}>
          <use xlinkHref={'#' + pathId} />
        </clipPath>
      </defs>

      <g fill={`url(#${gradientId})`}>
        <path d="M451.150737,2.21046388 L468.742249,40.9362228 L464.100044,40.9362228 L459.580003,30.6745075 L438.567919,30.6745075 L434.047878,40.9362228 L429.65,40.9362228 L447.119349,2.21046388 L451.150737,2.21046388 Z M449.196124,7.34132152 L440.400368,26.8874459 L457.869717,26.8874459 L449.196124,7.34132152 Z M472.284984,21.8787515 L472.284984,21.8787515 C472.284984,11.1283831 480.103434,1.84397404 491.586782,1.84397404 C498.061435,1.84397404 502.092823,3.6764232 505.879885,6.97483169 L503.07013,10.2732402 C500.016048,7.70781136 496.839803,5.8753622 491.342455,5.8753622 C482.791026,5.8753622 476.682862,13.0829956 476.682862,21.7565882 L476.682862,21.8787515 C476.682862,31.0409973 482.668862,37.8821409 491.953271,37.8821409 C496.351149,37.8821409 500.504701,36.171855 503.07013,34.0950793 L503.07013,24.5663436 L491.342455,24.5663436 L491.342455,20.6571188 L507.345844,20.6571188 L507.345844,35.8053651 C503.680946,38.9816104 498.427925,41.7913657 491.831108,41.7913657 C479.859107,41.6692025 472.284984,32.8734465 472.284984,21.8787515 Z M517.24107,2.57695371 L545.094297,2.57695371 L545.094297,6.48617858 L521.638948,6.48617858 L521.638948,19.6798125 L542.651032,19.6798125 L542.651032,23.5890374 L521.638948,23.5890374 L521.638948,37.0269979 L545.338624,37.0269979 L545.338624,40.9362228 L517.118907,40.9362228 L517.24107,2.57695371 L517.24107,2.57695371 Z M554.13438,2.57695371 L558.165768,2.57695371 L582.47626,33.3620996 L582.47626,2.57695371 L586.629811,2.57695371 L586.629811,41.0583861 L583.087076,41.0583861 L558.287931,9.41809724 L558.287931,41.0583861 L554.13438,41.0583861 L554.13438,2.57695371 Z M595.91422,21.8787515 L595.91422,21.8787515 C595.91422,10.8840566 604.09916,1.84397404 615.338182,1.84397404 C622.301488,1.84397404 626.45504,4.28723959 630.364265,7.95213791 L627.310183,11.1283831 C624.011774,8.07430119 620.469039,5.8753622 615.216018,5.8753622 C606.664589,5.8753622 600.312098,12.838669 600.312098,21.7565882 L600.312098,21.8787515 C600.312098,30.7966708 606.664589,37.8821409 615.216018,37.8821409 C620.469039,37.8821409 623.889611,35.8053651 627.676673,32.2626301 L630.608591,35.0723855 C626.577203,39.1037736 622.179325,41.7913657 615.216018,41.7913657 C604.09916,41.6692025 595.91422,32.8734465 595.91422,21.8787515 Z M649.666062,25.7879764 L633.662673,2.45479043 L638.915694,2.45479043 L651.987165,21.7565882 L665.180799,2.45479043 L670.311656,2.45479043 L654.308267,25.7879764 L654.308267,41.1805493 L649.910389,41.1805493 L649.666062,25.7879764 L649.666062,25.7879764 Z M115.472134,22.1115532 L115.472134,21.9893899 C115.349971,16.3698792 117.671073,10.994695 121.824624,6.96330681 C125.978176,3.05408193 131.597686,0.855142941 137.461524,0.977306219 C143.691851,0.610816387 149.800015,2.93191866 154.197893,7.32979664 L148.211892,13.8044503 C145.402137,10.994695 141.492912,9.28440908 137.461524,9.1622458 C130.376054,9.1622458 125.245196,14.9039198 125.245196,21.8672266 L125.245196,21.9893899 C125.245196,28.9526967 130.25389,34.816534 137.461524,34.816534 C142.225892,34.816534 145.15781,32.9840849 148.578382,29.9300029 L154.442219,35.671677 C150.166505,40.5582081 143.814014,43.2458002 137.217197,43.0014736 C131.475523,43.1236369 125.856012,40.9246979 121.824624,36.8933098 C117.793236,32.8619216 115.349971,27.6089007 115.472134,22.1115532 Z M158.595771,22.1115532 L158.595771,21.9893899 C158.595771,16.2477159 161.039036,10.8725317 165.192588,6.96330681 C169.468302,3.05408193 175.087813,0.855142941 180.95165,1.0994695 C193.900958,1.0994695 203.30753,10.5060419 203.30753,22.1115532 L203.30753,22.2337165 C203.30753,27.9753905 200.864265,33.3505747 196.710713,37.3819629 C192.557162,41.413351 186.815488,43.4901267 180.829487,43.2458002 C167.88018,43.0014736 158.595771,33.7170645 158.595771,22.1115532 Z M193.656631,22.1115532 L193.656631,21.9893899 C193.778795,18.6909814 192.434999,15.3925729 190.113896,13.0714707 C187.670631,10.6282051 184.372222,9.28440908 180.95165,9.28440908 C177.531079,9.28440908 174.23267,10.6282051 171.789405,13.0714707 C169.468302,15.5147362 168.124506,18.6909814 168.24667,21.9893899 L168.24667,22.1115532 C168.124506,25.4099617 169.468302,28.7083702 171.789405,31.1516357 C174.23267,33.5949013 177.531079,34.9386973 180.95165,34.9386973 C184.372222,34.9386973 187.670631,33.5949013 189.991733,31.1516357 C192.557162,28.5862069 193.778795,25.4099617 193.656631,22.1115532 Z M223.342308,1.34379605 L231.893737,1.34379605 L249.973902,42.3906572 L240.323003,42.3906572 L236.535942,33.2284114 L218.700103,33.2284114 L214.790878,42.3906572 L205.262143,42.3906572 L223.342308,1.34379605 Z M232.993207,25.2877984 L227.373696,12.0941645 L221.754185,25.2877984 L232.993207,25.2877984 Z M251.806351,22.1115532 L251.806351,21.9893899 C251.684188,16.3698792 254.00529,10.994695 258.158842,6.96330681 C262.312393,3.05408193 267.931904,0.855142941 273.795741,0.977306219 C280.026068,0.732979664 286.012069,2.93191866 290.409947,7.32979664 L284.54611,13.9266136 C281.736354,11.1168582 277.827129,9.40657235 273.795741,9.28440908 C266.710271,9.28440908 261.579413,15.0260831 261.579413,21.9893899 L261.579413,22.1115532 C261.579413,29.07486 266.588108,34.9386973 273.795741,34.9386973 C278.560109,34.9386973 281.492028,33.1062482 284.912599,30.0521662 L290.776437,35.7938403 C286.500722,40.6803714 280.148232,43.3679635 273.551415,43.1236369 C267.809741,43.2458002 262.19023,41.0468612 258.158842,37.1376363 C253.883127,33.1062482 251.684188,27.6089007 251.806351,22.1115532 Z M298.106233,1.58812261 L307.390642,1.58812261 L307.390642,17.7136752 L324.371338,17.7136752 L324.371338,1.58812261 L333.77791,1.58812261 L333.77791,42.3906572 L324.493501,42.3906572 L324.493501,26.0207781 L307.390642,26.0207781 L307.390642,42.3906572 L298.106233,42.3906572 L298.106233,1.58812261 Z M343.795299,1.58812261 L375.435588,1.58812261 L375.435588,9.65089891 L352.957545,9.65089891 L352.957545,17.8358385 L372.870159,17.8358385 L372.870159,25.7764515 L352.957545,25.7764515 L352.957545,34.3278809 L375.802078,34.3278809 L375.802078,42.3906572 L343.795299,42.3906572 L343.795299,1.58812261 Z M381.177262,36.4046566 L386.674609,30.0521662 C390.095181,33.1062482 394.615223,34.816534 399.257427,34.9386973 C403.044489,34.9386973 405.365591,33.472738 405.365591,31.1516357 L405.365591,31.0294724 C405.365591,28.7083702 403.899632,27.6089007 396.936325,25.8986148 C388.384895,23.8218391 383.009711,21.5007368 383.009711,13.4379605 L383.009711,13.3157972 C383.009711,5.98600059 389.117875,1.0994695 397.791468,1.0994695 C403.410978,0.977306219 409.030489,2.80975538 413.428367,6.23032714 L408.663999,12.9493074 C405.487754,10.5060419 401.700693,9.1622458 397.669304,8.91791925 C394.126569,8.91791925 392.29412,10.5060419 392.29412,12.4606543 L392.29412,12.5828176 C392.29412,15.2704097 394.126569,16.1255526 401.334203,17.9580018 C409.885632,20.1569408 414.65,23.0888594 414.65,30.1743295 L414.65,30.2964928 C414.65,38.3592691 408.29751,42.8793103 399.257427,42.8793103 C392.538447,42.8793103 386.063793,40.5582081 381.177262,36.4046566 Z M0.15,7.94061303 L0.15,10.0173887 L5.89167403,10.0173887 L5.89167403,42.3906572 L16.2755526,42.3906572 L16.2755526,10.6282051 L16.2755526,0 L13.5879605,0 L0.15,7.94061303 Z" />
        <use x="21.51" y="0.51" xlinkHref={'#' + pathId} />
      </g>
      {!invalidBrowser && (
        <foreignObject x="21.51" y="0.51" width="78.18" height="43.12">
          <div css={styles.circleWrap}>
            <div css={[styles.circle, styles.circle1]} />
            <div css={[styles.circle, styles.circle2]} />
          </div>
        </foreignObject>
      )}
    </svg>
  )
}

export default LogoHorizontal
